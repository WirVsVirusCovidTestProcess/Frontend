<ion-content>
  <ion-row>
    <ion-col size-md="10" offset-md="1">

      <ion-card>
        <ion-card-content>
          <ion-grid>
            <ion-row>
              <ion-col size="12" size-lg="4" class="left-side">

                <img src="assets/img/logo.png" width="290px"/>

                <ion-list lines="none">
                  <ion-item detail="false">
                    <ion-icon slot="start" name="person-outline"></ion-icon>
                    <ion-label>
                      {{user.Name}}
                    </ion-label>
                  </ion-item>

                  <ion-item detail="false">
                    <ion-icon slot="start" name="home-outline"></ion-icon>
                    <ion-label>
                      {{user.Street}}
                    </ion-label>
                  </ion-item>

                  <ion-item detail="false">
                    <ion-icon slot="start" name="compass-outline"></ion-icon>
                    <ion-label>
                      {{user.Area}}
                    </ion-label>
                  </ion-item>

                  <ion-item detail="false">
                    <ion-icon slot="start" name="mail-outline"></ion-icon>
                    <ion-label>
                      {{user.Email}}
                    </ion-label>
                  </ion-item>

                  <ion-item detail="false">
                    <ion-icon slot="start" name="call-outline"></ion-icon>
                    <ion-label>
                      {{user.Phone}}
                    </ion-label>
                  </ion-item>

                </ion-list>
              </ion-col>
              <ion-col size="12" size-lg="5" class="center">

                <ion-card [ngSwitch]="result" size="large" expand="block" class="result" [color]="getstatus(result)">
                  <ion-card-header>
                    <ion-card-title>
                      <span *ngSwitchCase="null">{{ "account.result.not_yet" | translate }}</span>
                      <span *ngSwitchCase="true">{{ "account.result.positive" | translate }}</span>
                      <span *ngSwitchCase="false">{{ "account.result.negative" | translate }}</span>
                    </ion-card-title>
                  </ion-card-header>
                </ion-card>


                <qrcode (click)="showQRCode()" *ngIf="questionnaireDataXML" [qrdata]="questionnaireDataXML" [width]="256"
                        [errorCorrectionLevel]="'M'" class="qr-code"></qrcode>


                <div *ngIf="appointment == null; then thenBlock else elseBlock"></div>
                <ng-template #thenBlock>

                  <ion-card>
                    <ion-card-header>
                      <ion-card-title>
                        {{ "account.appointment.waiting" | translate }}
                      </ion-card-title>
                    </ion-card-header>
                    <ion-card-content style="margin: auto;">
                      <ion-spinner name="crescent"></ion-spinner>
                    </ion-card-content>
                  </ion-card>

                </ng-template>
                <ng-template #elseBlock>
                  <ion-card color="primary">
                    <ion-card-header>
                      <ion-card-title>
                        {{ "account.appointment.title" | translate }}
                      </ion-card-title>
                    </ion-card-header>
                    <ion-card-content>
                      <p><b>{{appointment.time}}</b></p>
                      <p>{{ appointment.street }}</p>
                      <p>{{ appointment.area }}</p>
                    </ion-card-content>
                  </ion-card>
                </ng-template>


              </ion-col>
              <ion-col size-lg="3" size="12" class="right-side">
                <ion-list>
                  <ion-list-header>
                    {{ "account.patient_number" | translate }}
                  </ion-list-header>

                  <ion-item>
                    <ion-label>
                      <p>{{user.Code}}</p>
                    </ion-label>
                  </ion-item>
                </ion-list>
                <ion-list>
                  <ion-list-header>
                    {{ "account.contact_persons" | translate }}
                  </ion-list-header>

                  <ion-item *ngFor="let contact of contacts">
                    <ion-label>
                      <p>{{contact}}</p>
                    </ion-label>
                  </ion-item>
                </ion-list>
                <ion-button *ngIf="contacts.length < 5 " (click)="addContact()">{{ "account.add_contact_person" | translate }}</ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-content>
